{% load static %}
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">

<style>
    /* A4 page size */
    @page {
        size: A4;
        margin: 0;
    }

    body {
        font-family: Calibri, sans-serif;
        font-size: 11pt;
        margin: 0;
        padding: 0;
    }

    .page {
        display: flex;
        flex-direction: column;
        min-height: 29.7cm; /* A4 height */
        padding: 2cm; /* page margin */
        box-sizing: border-box;
    }

    .header-right {
        text-align: right;
        font-size: 9pt;
        line-height: 1.3;
    }

    .logo {
        text-align: center;
        margin-bottom: 10px;
    }

    .row {
        display: flex;
        justify-content: space-between;
        width: 100%;
        font-size: 10pt;
    }

    .section-title {
        text-align: center;
        font-weight: bold;
        margin-top: 20px;
        font-size: 11pt;
    }

    .findings, .impression {
        margin-top: 20px;
        font-size: 10pt;
        line-height: 1.3;
    }

    .impression-title {
        font-weight: bold;
        margin-top: 20px;
        font-size: 10pt;
    }

    /* Main content stretches to push footer down */
    .content {
        flex: 1;
    }

    /* Footer stays at bottom */
    .bottom {
        font-size: 10pt;
        line-height: 1.3;
    }

    .bottom .row {
        justify-content: space-between;
        margin-bottom: 5px;
    }

    .footer-note {
        text-align: center;
        font-size: 9pt;
        margin-top: 20px;
        line-height: 1.3;
    }
</style>
</head>

<body>
<div class="page">

    <!-- LOGO -->
    <div class="logo">
        <img src="{% static 'images/logo.png' %}" style="height:80px;">
    </div>

    <!-- ADDRESS HEADER -->
    <div class="header-right">
        Second Floor, SM City Santa Rosa <br>Expansion, Brgy. Tagapo,  
        Old <br>National Highway, Sta. Rosa,<br> Laguna  
        Tel No: (02) 8396-9898<br> local 6251 to 6257<br>
        Mobile No: (0953) 827 6259<br>
        <u>sampleemailofclient@gmail.com</u>
    </div>

    <br><br>

    <!-- MAIN CONTENT -->
    <div class="content">
        <!-- PATIENT INFO -->
        <div class="row">
            <div>Patient Name: {{ patient.first_name }} {{ patient.last_name }}</div>
            <div>X-RAY File No.: TEST-25-0123</div>
        </div>

        <div class="row">
            <div>Age: {{ age }} &nbsp;&nbsp;&nbsp; Gender: {{ patient.gender }}</div>
            <div>Request Date: {{ procedure_schedule.created_at|date:"m-d-Y H:i:s" }}</div>
        </div>

        <div class="row">
            <div>Doctor Name: {{ report.created_by.first_name }} {{ report.created_by.last_name }}</div>
            <div>Release Date: {{ report.created_at|date:"m-d-Y H:i:s" }}</div>
        </div>

        <!-- TITLE -->
        <div class="section-title">
            RADIOLOGY DEPARTMENT<br>
            {{ procedure_schedule.procedure_type|upper }}
        </div><br><br><br><br><br>

        <!-- FINDINGS -->
        <div class="findings" style="white-space: pre-line;">
            {{ report.findings }}
        </div>

        <!-- IMPRESSION -->
        <div class="impression-title">IMPRESSION:</div>
        <div class="impression"  style="white-space: pre-line;">
            {{ report.impression }}
        </div>
    </div>

    <!-- FOOTER / SIGNATURES -->
    <div class="bottom">
        <div class="row">
            <div>Michelle Ann L. Madrigal, RRT</div>
            <div>{{ report.created_by.first_name }} {{ report.created_by.last_name }}</div>
        </div>
        <div class="row">
            <div>Radiologic Technologist</div>
            <div>Radiologist</div>
        </div>
        <div class="footer-note">
            The above description is based on the radiographic findings and should be
            correlated with the clinical findings and other ancillary procedures by your
            attending physician.<br><br>

            Note: Kindly bring this result together with the film on your next checkup
            and examination for comparison.
        </div>
    </div>

</div>
</body>
</html>
